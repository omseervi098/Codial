{let t=function(){let t=$("#new-post-form");t.submit((s=>{""==$("#image").val()&&(s.preventDefault(),$.ajax({url:"/posts/create",type:"POST",data:t.serialize(),success:function(t){let s=e(t.data.post);$("#post-list-container-div").prepend(s),$("#new-post-form")[0].reset(),n($(".delete-post-button",s)),new ToggleLike($(" .toggle-like-button",s)),new Noty({theme:"relax",type:"success",layout:"topRight",text:"Post Created !!!",timeout:1500}).show()},error:function(t){console.log(t)}}))}))},e=function(t){return $(`<div id="post-${t._id}" class="post">\n        <div class="ithpost">\n        <div class="name">\n            <span>\n            ${t.user.avatar?`<img src="${t.user.avatar}" >`:`<img src="${assetPath("images/default-avatar.png")}">`}\n            ${t.user.name}</span>\n            <div>\n              <div class="dropdown">\n                <button class="dropbtn"><i class="fa-solid fa-circle-chevron-down"></i></button>\n                <div class="dropdown-content">\n                    <a class="delete-post-button" href="/posts/destroy/${t._id}">Delete</a>\n                </div>\n              </div>  \n            </div>\n        </div>\n            <div class="content">\n                ${t.content}\n            </div>\n            <small>\n                <a class="toggle-like-button " data-likes="0"\n                    href="/likes/toggle/?id=${t._id}&type=Post">\n                    <button class="like__btn">\n                        <span id="icon"><i class="far fa-thumbs-up"></i></span>\n                        <span id="count">\n                            0\n                        </span> Like\n                    </button>\n                </a>\n            </small>\n        </div>\n        <div class="post-comments">\n            <form action="/comments/create" method="POST" id="post-${t._id}-comments-form">\n                <input required type="text" id="comment-input" name="content" placeholder="Type Here to add comment">\n                <input type="hidden" name="post" value="${t._id}">\n                <input type="submit" id="add-comment" value="Add Comment">\n            </form>\n            <div class="post-comments-list" >\n                <div id="post-comments-${t._id}">\n            </div>\n        </div>\n        \n        \n      </div>`)},n=function(t){$(t).click((function(e){e.preventDefault(),$.ajax({type:"get",url:$(t).prop("href"),success:function(t){$(`#post-${t.data.post_id}`).remove(),new Noty({theme:"relax",type:"success",layout:"topRight",text:"Post deleted !!",timeout:1500}).show()},error:function(t){console.log(t.responseText)}})}))},s=function(){$("#post-list-container > div > .post").each((function(){let t=$(this),e=$(" .delete-post-button",t);n(e);let s=t.prop("id").split("-")[1];new PostComments(s)}))};t(),s()}