class ToggleLike{constructor(t){this.toggler=t,this.toggleLike()}toggleLike(){$(this.toggler).click((function(t){console.log("toggle like"+$(this).attr("href")),t.preventDefault();let e=this;$.ajax({type:"POST",url:$(e).attr("href")}).done((function(t){let a=parseInt($(e).attr("data-likes")),l="";1==t.data.deleted?(a-=1,l=`<span><i class="fa fa-thumbs-up pe-1"></i>Like (${a})</span>`,$(e).attr("data-likes",a)):(a+=1,l=`<span class="liked"><i class="fa fa-thumbs-up pe-1"></i>Liked (${a})</span>`,$(e).attr("data-likes",a)),$(e).html(l),socket.emit("toggle_like",{data:t.data.deleted,url:$(e).attr("href"),likes_count:a})})).fail((function(t){console.log("error in completing the request")}))}))}}